(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,n=JSON.parse('{"UU":"comintel-business/general-content-container"}'),r=window.wp.element,s=window.wp.apiFetch;var i=e.n(s);const o=window.wp.components,a=window.wp.blockEditor;function c(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=c(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const l=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=c(e))&&(r&&(r+=" "),r+=t);return r},d=window.ReactJSXRuntime;(0,t.registerBlockType)(n.UU,{edit:function({attributes:e,setAttributes:t}){const n=l({"section-container":!0,"position-relative":e?.bgImgId}),s=(0,a.useBlockProps)({className:n}),c=l("row",e?.className),{children:g,...u}=(0,a.useInnerBlocksProps)({className:c});return(0,r.useEffect)((()=>{!async function(){if(e?.bgImgId)try{const n=await i()({path:"/wp/v2/media/"+e.bgImgId});t({bgImgUrlLarge:n?.media_details?.sizes?.large?.source_url,bgImgUrlThumb:n?.media_details?.sizes?.thumbnail?.source_url})}catch(e){console.log("ERROR",e)}}()}),[e?.bgImgId]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.InspectorControls,{children:(0,d.jsxs)(o.PanelBody,{title:"Background Image",children:[e?.bgImgId&&(0,d.jsx)(o.PanelRow,{children:(0,d.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,d.jsx)("img",{src:e?.bgImgUrlThumb,width:150,height:150,alt:"bg image thumb"}),(0,d.jsx)(o.Button,{icon:"trash",label:"Delete Background",isDestructive:!0,onClick:()=>{t({bgImgId:void 0,bgImgUrlLarge:void 0,bgImgUrlThumb:void 0})}})]})}),(0,d.jsx)(o.PanelRow,{children:(0,d.jsx)(a.MediaUploadCheck,{children:(0,d.jsx)(a.MediaUpload,{onSelect:e=>{t({bgImgId:e.id})},value:e?.bgImgId,render:({open:e})=>(0,d.jsx)(o.Button,{variant:"primary",onClick:e,children:"Select Background"})})})})]})}),(0,d.jsxs)("section",{...s,children:[e?.bgImgId&&(0,d.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",backgroundImage:`url(${e?.bgImgUrlLarge})`,backgroundSize:"cover",left:0,top:0,backgroundRepeat:"no-repeat",opacity:.3,zIndex:0}}),(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{...u,children:g})})]})]})},save:function({attributes:e}){const t=l({"section-container":!0,"position-relative":e?.bgImgId}),n=a.useBlockProps.save({className:t}),r=l("row",e?.className),{children:s,...i}=a.useInnerBlocksProps.save({className:r});return(0,d.jsxs)("section",{...n,children:[e?.bgImgId&&(0,d.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",backgroundImage:`url(${e?.bgImgUrlLarge})`,backgroundSize:"cover",left:0,top:0,backgroundRepeat:"no-repeat",opacity:.3,zIndex:-1}}),(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{...i,children:s})})]})}})})();